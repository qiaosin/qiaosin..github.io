import{ab as h,J as E,d as x,f as I,s as _,t as B,o as i,g as D,w as u,c as r,v as t,b as p,y as c,x as n,F as S,a7 as F,k as b,a9 as N,aa as L,_ as w}from"./index-09328375.js";import{E as O}from"./dialog-54aac7ab.js";import{E as A}from"./index-3c681246.js";class K{static async getOne(e){const s=await h.get(`/story/${e.id}`);return console.log("getOne",e.id),s.data}static async getList(){const e=await h.get("/story/home");return console.log("getList",e),e.data.storys}}const U=Symbol("StoryContext"),$=()=>{const o=E(U);if(o)return o;throw new Error("no story context")},y=o=>(N("data-v-9552ba5f"),o=o(),L(),o),j={key:0,class:"content"},J=y(()=>t("span",null,"summary:",-1)),T=y(()=>t("span",null,"content:",-1)),q=y(()=>t("span",null,"role:",-1)),z=x({__name:"StoryDetail",props:{dialogVisible:{type:Boolean},storyId:{},handleClose:{type:Function}},setup(o){const e=o,s=I(()=>e.dialogVisible),a=_(),l=()=>{e.handleClose()},v=_(!1);B(s,async g=>{g&&(a.value=await K.getOne({id:e.storyId}))});const{handleUpdateActiveKey:m}=$(),V=()=>{m(1)};return(g,f)=>{const C=A,k=O;return a.value?(i(),D(k,{key:0,"align-center":"","show-close":!1,modelValue:s.value,"onUpdate:modelValue":f[0]||(f[0]=d=>s.value=d),"before-close":e.handleClose,width:"80vw",class:"dialog-class"},{default:u(()=>[v.value?b("",!0):(i(),r("div",j,[t("div",null,[p(C,{onClick:l,color:"#FE8623"},{default:u(()=>[c("Cancel")]),_:1}),p(C,{color:"#FE8623",onClick:V},{default:u(()=>[c("Continue")]),_:1})]),t("span",null,n(a.value.title),1),t("span",null,[J,c(" "+n(a.value.summary),1)]),t("span",null,[T,c(" "+n(a.value.content),1)]),t("span",null,[q,c(),(i(!0),r(S,null,F(a.value.rules,d=>(i(),r("span",null,[t("span",null,n(d),1)]))),256))])]))]),_:1},8,["modelValue","before-close"])):b("",!0)}}});const G=w(z,[["__scopeId","data-v-9552ba5f"]]),H=x({__name:"Card",props:{id:{},title:{},content:{}},setup(o){const e=o,s=()=>{l.value=!0},a=()=>{l.value=!1},l=_(!1);return(v,m)=>(i(),r(S,null,[p(G,{"story-id":e.id,"dialog-visible":l.value,"handle-close":a},null,8,["story-id","dialog-visible"]),t("div",{class:"card",onClick:s},[t("span",null,n(e.title),1),t("span",null,n(e.content),1)])],64))}});const R=w(H,[["__scopeId","data-v-0033a60b"]]);export{R as C,K as S,U as a};
//# sourceMappingURL=Card-c7ef3562.js.map
