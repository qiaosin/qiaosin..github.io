import{f as te,C as ae,S as ne,a as oe}from"./Card-bd690a0b.js";import{ao as re,aT as ie,e as U,at as j,d as S,u as F,am as G,t as K,a3 as M,o as c,c as f,r as k,n as u,j as s,l as O,i as le,s as w,a6 as ce,G as ue,a7 as pe,f as v,q as de,k as $,v as _,af as A,g as C,w as E,h as ve,E as B,b as y,aU as _e,aV as fe,x as V,y as L,m as me,ah as ye,a as R,F as I,ak as q,_ as P,ar as Se,aW as he,aX as Ce}from"./index-00852b3b.js";import{C as H}from"./event-fe80fd0c.js";import"./index-8528fd74.js";import"./focus-trap-c4c63f51.js";const ge=(r,i,e)=>te(r.subTree).filter(n=>{var t;return ie(n)&&((t=n.type)==null?void 0:t.name)===i&&!!n.component}).map(n=>n.component.uid).map(n=>e[n]).filter(n=>!!n),we=(r,i)=>{const e={},o=re([]);return{children:o,addChild:t=>{e[t.uid]=t,o.value=ge(r,i,e)},removeChild:t=>{delete e[t],o.value=o.value.filter(l=>l.uid!==t)}}},$e=U({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),ke={[H]:(r,i)=>[r,i].every(j)},Ee=S({name:"ElSteps"}),Ie=S({...Ee,props:$e,emits:ke,setup(r,{emit:i}){const e=r,o=F("steps"),{children:p,addChild:n,removeChild:t}=we(G(),"ElStep");return K(p,()=>{p.value.forEach((l,d)=>{l.setIndex(d)})}),M("ElSteps",{props:e,steps:p,addStep:n,removeStep:t}),K(()=>e.active,(l,d)=>{i(H,l,d)}),(l,d)=>(c(),f("div",{class:u([s(o).b(),s(o).m(l.simple?"simple":l.direction)])},[k(l.$slots,"default")],2))}});var Ne=O(Ie,[["__file","steps.vue"]]);const xe=U({title:{type:String,default:""},icon:{type:le},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),be=S({name:"ElStep"}),Be=S({...be,props:xe,setup(r){const i=r,e=F("step"),o=w(-1),p=w({}),n=w(""),t=ce("ElSteps"),l=G();ue(()=>{K([()=>t.props.active,()=>t.props.processStatus,()=>t.props.finishStatus],([a])=>{se(a)},{immediate:!0})}),pe(()=>{t.removeStep(D.uid)});const d=v(()=>i.status||n.value),X=v(()=>{const a=t.steps.value[o.value-1];return a?a.currentStatus:"wait"}),N=v(()=>t.props.alignCenter),T=v(()=>t.props.direction==="vertical"),m=v(()=>t.props.simple),x=v(()=>t.steps.value.length),z=v(()=>{var a;return((a=t.steps.value[x.value-1])==null?void 0:a.uid)===(l==null?void 0:l.uid)}),g=v(()=>m.value?"":t.props.space),Y=v(()=>[e.b(),e.is(m.value?"simple":t.props.direction),e.is("flex",z.value&&!g.value&&!N.value),e.is("center",N.value&&!T.value&&!m.value)]),Q=v(()=>{const a={flexBasis:j(g.value)?`${g.value}px`:g.value?g.value:`${100/(x.value-(N.value?0:1))}%`};return T.value||z.value&&(a.maxWidth=`${100/x.value}%`),a}),Z=a=>{o.value=a},ee=a=>{const h=a==="wait",b={transitionDelay:`${h?"-":""}${150*o.value}ms`},W=a===t.props.processStatus||h?0:100;b.borderWidth=W&&!m.value?"1px":0,b[t.props.direction==="vertical"?"height":"width"]=`${W}%`,p.value=b},se=a=>{a>o.value?n.value=t.props.finishStatus:a===o.value&&X.value!=="error"?n.value=t.props.processStatus:n.value="wait";const h=t.steps.value[o.value-1];h&&h.calcProgress(n.value)},D=de({uid:l.uid,currentStatus:d,setIndex:Z,calcProgress:ee});return t.addStep(D),(a,h)=>(c(),f("div",{style:A(s(Q)),class:u(s(Y))},[$(" icon & line "),_("div",{class:u([s(e).e("head"),s(e).is(s(d))])},[s(m)?$("v-if",!0):(c(),f("div",{key:0,class:u(s(e).e("line"))},[_("i",{class:u(s(e).e("line-inner")),style:A(p.value)},null,6)],2)),_("div",{class:u([s(e).e("icon"),s(e).is(a.icon||a.$slots.icon?"icon":"text")])},[k(a.$slots,"icon",{},()=>[a.icon?(c(),C(s(B),{key:0,class:u(s(e).e("icon-inner"))},{default:E(()=>[(c(),C(ve(a.icon)))]),_:1},8,["class"])):s(d)==="success"?(c(),C(s(B),{key:1,class:u([s(e).e("icon-inner"),s(e).is("status")])},{default:E(()=>[y(s(_e))]),_:1},8,["class"])):s(d)==="error"?(c(),C(s(B),{key:2,class:u([s(e).e("icon-inner"),s(e).is("status")])},{default:E(()=>[y(s(fe))]),_:1},8,["class"])):s(m)?$("v-if",!0):(c(),f("div",{key:3,class:u(s(e).e("icon-inner"))},V(o.value+1),3))])],2)],2),$(" title & description "),_("div",{class:u(s(e).e("main"))},[_("div",{class:u([s(e).e("title"),s(e).is(s(d))])},[k(a.$slots,"title",{},()=>[L(V(a.title),1)])],2),s(m)?(c(),f("div",{key:0,class:u(s(e).e("arrow"))},null,2)):(c(),f("div",{key:1,class:u([s(e).e("description"),s(e).is(s(d))])},[k(a.$slots,"description",{},()=>[L(V(a.description),1)])],2))],2)],6))}});var J=O(Be,[["__file","item.vue"]]);const Ve=me(Ne,{Step:J}),Ke=ye(J),Le={class:"list"},Pe=S({__name:"CardList",props:{list:{}},setup(r){const i=r;return(e,o)=>{const p=R("router-view");return c(),f(I,null,[_("div",Le,[_("div",null,[(c(!0),f(I,null,q(i.list,n=>(c(),C(ae,{id:n.id,key:n.title,title:n.title,content:n.summary},null,8,["id","title","content"]))),128))])]),y(p)],64)}}});const Te=P(Pe,[["__scopeId","data-v-aca8cd22"]]);const ze=S({__name:"Step",props:{activeKey:{}},setup(r){const i=r,e=v(()=>i.activeKey),o=["Story","Character","Start"];return(p,n)=>{const t=Ve;return c(),C(t,{class:"steps",active:e.value,"finish-status":"process"},{default:E(()=>[(c(),f(I,null,q(o,l=>y(s(Ke),{key:l,title:l},null,8,["title"])),64))]),_:1},8,["active"])}}});const De=P(ze,[["__scopeId","data-v-6799f5da"]]),We=r=>(he("data-v-731f2506"),r=r(),Ce(),r),Ae={class:"list"},Ue=We(()=>_("div",{class:"title"},[_("span",null,"Starting "),L(),_("span",null," Your Journey ")],-1)),je=S({__name:"Story",setup(r){const i=w([]);Se(async()=>{i.value=await ne.getList()});const e=w(0);return M(oe,{activeKeyRef:e,handleUpdateActiveKey:o=>{e.value=o}}),(o,p)=>{const n=R("router-view");return c(),f(I,null,[_("div",Ae,[y(De,{"active-key":e.value},null,8,["active-key"]),Ue,y(Te,{list:i.value},null,8,["list"])]),y(n)],64)}}});const qe=P(je,[["__scopeId","data-v-731f2506"]]);export{qe as default};
//# sourceMappingURL=Story-f4165d6c.js.map
