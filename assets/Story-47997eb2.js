import{C as te,S as ae,a as ne}from"./Card-c7ef3562.js";import{a2 as oe,a3 as re,e as j,a4 as F,d as S,u as G,V as J,t as K,I as M,o as c,c as f,r as k,n as u,j as s,l as O,i as ie,s as w,J as le,G as ce,K as ue,f as v,q as pe,k as $,v as _,a0 as W,g as C,w as E,h as de,E as B,b as y,a5 as ve,a6 as _e,x as V,y as L,m as fe,a1 as me,a as R,F as I,a7 as U,_ as P,a8 as ye,a9 as Se,aa as he}from"./index-09328375.js";import{C as q}from"./event-fe80fd0c.js";import{f as Ce}from"./dialog-54aac7ab.js";import"./index-3c681246.js";import"./focus-trap-76b79176.js";const ge=(r,i,e)=>Ce(r.subTree).filter(n=>{var t;return re(n)&&((t=n.type)==null?void 0:t.name)===i&&!!n.component}).map(n=>n.component.uid).map(n=>e[n]).filter(n=>!!n),we=(r,i)=>{const e={},o=oe([]);return{children:o,addChild:t=>{e[t.uid]=t,o.value=ge(r,i,e)},removeChild:t=>{delete e[t],o.value=o.value.filter(l=>l.uid!==t)}}},$e=j({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),ke={[q]:(r,i)=>[r,i].every(F)},Ee=S({name:"ElSteps"}),Ie=S({...Ee,props:$e,emits:ke,setup(r,{emit:i}){const e=r,o=G("steps"),{children:p,addChild:n,removeChild:t}=we(J(),"ElStep");return K(p,()=>{p.value.forEach((l,d)=>{l.setIndex(d)})}),M("ElSteps",{props:e,steps:p,addStep:n,removeStep:t}),K(()=>e.active,(l,d)=>{i(q,l,d)}),(l,d)=>(c(),f("div",{class:u([s(o).b(),s(o).m(l.simple?"simple":l.direction)])},[k(l.$slots,"default")],2))}});var Ne=O(Ie,[["__file","steps.vue"]]);const xe=j({title:{type:String,default:""},icon:{type:ie},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),be=S({name:"ElStep"}),Be=S({...be,props:xe,setup(r){const i=r,e=G("step"),o=w(-1),p=w({}),n=w(""),t=le("ElSteps"),l=J();ce(()=>{K([()=>t.props.active,()=>t.props.processStatus,()=>t.props.finishStatus],([a])=>{se(a)},{immediate:!0})}),ue(()=>{t.removeStep(T.uid)});const d=v(()=>i.status||n.value),Y=v(()=>{const a=t.steps.value[o.value-1];return a?a.currentStatus:"wait"}),N=v(()=>t.props.alignCenter),z=v(()=>t.props.direction==="vertical"),m=v(()=>t.props.simple),x=v(()=>t.steps.value.length),D=v(()=>{var a;return((a=t.steps.value[x.value-1])==null?void 0:a.uid)===(l==null?void 0:l.uid)}),g=v(()=>m.value?"":t.props.space),Q=v(()=>[e.b(),e.is(m.value?"simple":t.props.direction),e.is("flex",D.value&&!g.value&&!N.value),e.is("center",N.value&&!z.value&&!m.value)]),X=v(()=>{const a={flexBasis:F(g.value)?`${g.value}px`:g.value?g.value:`${100/(x.value-(N.value?0:1))}%`};return z.value||D.value&&(a.maxWidth=`${100/x.value}%`),a}),Z=a=>{o.value=a},ee=a=>{const h=a==="wait",b={transitionDelay:`${h?"-":""}${150*o.value}ms`},A=a===t.props.processStatus||h?0:100;b.borderWidth=A&&!m.value?"1px":0,b[t.props.direction==="vertical"?"height":"width"]=`${A}%`,p.value=b},se=a=>{a>o.value?n.value=t.props.finishStatus:a===o.value&&Y.value!=="error"?n.value=t.props.processStatus:n.value="wait";const h=t.steps.value[o.value-1];h&&h.calcProgress(n.value)},T=pe({uid:l.uid,currentStatus:d,setIndex:Z,calcProgress:ee});return t.addStep(T),(a,h)=>(c(),f("div",{style:W(s(X)),class:u(s(Q))},[$(" icon & line "),_("div",{class:u([s(e).e("head"),s(e).is(s(d))])},[s(m)?$("v-if",!0):(c(),f("div",{key:0,class:u(s(e).e("line"))},[_("i",{class:u(s(e).e("line-inner")),style:W(p.value)},null,6)],2)),_("div",{class:u([s(e).e("icon"),s(e).is(a.icon||a.$slots.icon?"icon":"text")])},[k(a.$slots,"icon",{},()=>[a.icon?(c(),C(s(B),{key:0,class:u(s(e).e("icon-inner"))},{default:E(()=>[(c(),C(de(a.icon)))]),_:1},8,["class"])):s(d)==="success"?(c(),C(s(B),{key:1,class:u([s(e).e("icon-inner"),s(e).is("status")])},{default:E(()=>[y(s(ve))]),_:1},8,["class"])):s(d)==="error"?(c(),C(s(B),{key:2,class:u([s(e).e("icon-inner"),s(e).is("status")])},{default:E(()=>[y(s(_e))]),_:1},8,["class"])):s(m)?$("v-if",!0):(c(),f("div",{key:3,class:u(s(e).e("icon-inner"))},V(o.value+1),3))])],2)],2),$(" title & description "),_("div",{class:u(s(e).e("main"))},[_("div",{class:u([s(e).e("title"),s(e).is(s(d))])},[k(a.$slots,"title",{},()=>[L(V(a.title),1)])],2),s(m)?(c(),f("div",{key:0,class:u(s(e).e("arrow"))},null,2)):(c(),f("div",{key:1,class:u([s(e).e("description"),s(e).is(s(d))])},[k(a.$slots,"description",{},()=>[L(V(a.description),1)])],2))],2)],6))}});var H=O(Be,[["__file","item.vue"]]);const Ve=fe(Ne,{Step:H}),Ke=me(H),Le={class:"list"},Pe=S({__name:"CardList",props:{list:{}},setup(r){const i=r;return(e,o)=>{const p=R("router-view");return c(),f(I,null,[_("div",Le,[_("div",null,[(c(!0),f(I,null,U(i.list,n=>(c(),C(te,{id:n.id,key:n.title,title:n.title,content:n.summary},null,8,["id","title","content"]))),128))])]),y(p)],64)}}});const ze=P(Pe,[["__scopeId","data-v-aca8cd22"]]);const De=S({__name:"Step",props:{activeKey:{}},setup(r){const i=r,e=v(()=>i.activeKey),o=["Story","Character","Start"];return(p,n)=>{const t=Ve;return c(),C(t,{class:"steps",active:e.value,"finish-status":"process"},{default:E(()=>[(c(),f(I,null,U(o,l=>y(s(Ke),{key:l,title:l},null,8,["title"])),64))]),_:1},8,["active"])}}});const Te=P(De,[["__scopeId","data-v-6799f5da"]]),Ae=r=>(Se("data-v-731f2506"),r=r(),he(),r),We={class:"list"},je=Ae(()=>_("div",{class:"title"},[_("span",null,"Starting "),L(),_("span",null," Your Journey ")],-1)),Fe=S({__name:"Story",setup(r){const i=w([]);ye(async()=>{i.value=await ae.getList()});const e=w(0);return M(ne,{activeKeyRef:e,handleUpdateActiveKey:o=>{e.value=o}}),(o,p)=>{const n=R("router-view");return c(),f(I,null,[_("div",We,[y(Te,{"active-key":e.value},null,8,["active-key"]),je,y(ze,{list:i.value},null,8,["list"])]),y(n)],64)}}});const qe=P(Fe,[["__scopeId","data-v-731f2506"]]);export{qe as default};
//# sourceMappingURL=Story-47997eb2.js.map
