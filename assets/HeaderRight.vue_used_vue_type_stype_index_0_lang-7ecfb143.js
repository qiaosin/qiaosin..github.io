import{l as A,d as D,r as N,s as y,I as U,J as $,G as Pe,j as _,K as ge,e as X,L as K,N as b,f as T,O as Be,P as j,t as _e,Q as Ke,a as h,o as S,g as Y,w as v,b as I,R as De,S as Me,T as Ae,i as Ge,E as be,U as ze,V as we,u as oe,W as Ye,X as He,c as J,Y as Ue,Z as W,n as x,k as Q,v as Je,h as Ve,$ as ee,F as je,a0 as We,m as qe,a1 as Ie,_ as Qe,p as Xe,A as Ze,z as xe,y as de,x as ue}from"./index-09328375.js";import{_ as eo}from"./Language.vue_vue_type_script_setup_true_lang-ef192c21.js";import{c as P,u as oo,a as ce,E as no,b as to,O as lo,w as pe,A as ro}from"./scrollbar-4217870b.js";import{u as he,E as Ee,a as so}from"./index-3c681246.js";import{c as io}from"./castArray-e23c1ee3.js";import{c as Ce,F as ao}from"./focus-trap-76b79176.js";const uo=D({inheritAttrs:!1});function co(e,o,i,t,d,a){return N(e.$slots,"default")}var po=A(uo,[["render",co],["__file","collection.vue"]]);const fo=D({name:"ElCollectionItem",inheritAttrs:!1});function mo(e,o,i,t,d,a){return N(e.$slots,"default")}var vo=A(fo,[["render",mo],["__file","collection-item.vue"]]);const ye="data-el-collection-item",$e=e=>{const o=`El${e}Collection`,i=`${o}Item`,t=Symbol(o),d=Symbol(i),a={...po,name:o,setup(){const l=y(null),p=new Map;U(t,{itemMap:p,getItems:()=>{const m=_(l);if(!m)return[];const f=Array.from(m.querySelectorAll(`[${ye}]`));return[...p.values()].sort((n,c)=>f.indexOf(n.ref)-f.indexOf(c.ref))},collectionRef:l})}},r={...vo,name:i,setup(l,{attrs:p}){const g=y(null),m=$(t,void 0);U(d,{collectionItemRef:g}),Pe(()=>{const f=_(g);f&&m.itemMap.set(f,{ref:f,...p})}),ge(()=>{const f=_(g);m.itemMap.delete(f)})}};return{COLLECTION_INJECTION_KEY:t,COLLECTION_ITEM_INJECTION_KEY:d,ElCollection:a,ElCollectionItem:r}},go=X({style:{type:K([String,Array,Object])},currentTabId:{type:K(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:K(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:_o,ElCollectionItem:bo,COLLECTION_INJECTION_KEY:ne,COLLECTION_ITEM_INJECTION_KEY:wo}=$e("RovingFocusGroup"),te=Symbol("elRovingFocusGroup"),Te=Symbol("elRovingFocusGroupItem"),Io={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ho=(e,o)=>{if(o!=="rtl")return e;switch(e){case b.right:return b.left;case b.left:return b.right;default:return e}},Eo=(e,o,i)=>{const t=ho(e.key,i);if(!(o==="vertical"&&[b.left,b.right].includes(t))&&!(o==="horizontal"&&[b.up,b.down].includes(t)))return Io[t]},Co=(e,o)=>e.map((i,t)=>e[(t+o)%e.length]),le=e=>{const{activeElement:o}=document;for(const i of e)if(i===o||(i.focus(),o!==document.activeElement))return},fe="currentTabIdChange",me="rovingFocusGroup.entryFocus",yo={bubbles:!1,cancelable:!0},$o=D({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:go,emits:[fe,"entryFocus"],setup(e,{emit:o}){var i;const t=y((i=e.currentTabId||e.defaultCurrentTabId)!=null?i:null),d=y(!1),a=y(!1),r=y(null),{getItems:l}=$(ne,void 0),p=T(()=>[{outline:"none"},e.style]),g=u=>{o(fe,u)},m=()=>{d.value=!0},f=P(u=>{var w;(w=e.onMousedown)==null||w.call(e,u)},()=>{a.value=!0}),E=P(u=>{var w;(w=e.onFocus)==null||w.call(e,u)},u=>{const w=!_(a),{target:M,currentTarget:k}=u;if(M===k&&w&&!_(d)){const G=new Event(me,yo);if(k==null||k.dispatchEvent(G),!G.defaultPrevented){const C=l().filter(R=>R.focusable),O=C.find(R=>R.active),F=C.find(R=>R.id===_(t)),z=[O,F,...C].filter(Boolean).map(R=>R.ref);le(z)}}a.value=!1}),n=P(u=>{var w;(w=e.onBlur)==null||w.call(e,u)},()=>{d.value=!1}),c=(...u)=>{o("entryFocus",...u)};U(te,{currentTabbedId:Be(t),loop:j(e,"loop"),tabIndex:T(()=>_(d)?-1:0),rovingFocusGroupRef:r,rovingFocusGroupRootStyle:p,orientation:j(e,"orientation"),dir:j(e,"dir"),onItemFocus:g,onItemShiftTab:m,onBlur:n,onFocus:E,onMousedown:f}),_e(()=>e.currentTabId,u=>{t.value=u??null}),Ke(r,me,c)}});function To(e,o,i,t,d,a){return N(e.$slots,"default")}var Oo=A($o,[["render",To],["__file","roving-focus-group-impl.vue"]]);const So=D({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:_o,ElRovingFocusGroupImpl:Oo}});function Fo(e,o,i,t,d,a){const r=h("el-roving-focus-group-impl"),l=h("el-focus-group-collection");return S(),Y(l,null,{default:v(()=>[I(r,De(Me(e.$attrs)),{default:v(()=>[N(e.$slots,"default")]),_:3},16)]),_:3})}var Ro=A(So,[["render",Fo],["__file","roving-focus-group.vue"]]);const No=D({components:{ElRovingFocusCollectionItem:bo},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:i,loop:t,onItemFocus:d,onItemShiftTab:a}=$(te,void 0),{getItems:r}=$(ne,void 0),l=he(),p=y(null),g=P(n=>{o("mousedown",n)},n=>{e.focusable?d(_(l)):n.preventDefault()}),m=P(n=>{o("focus",n)},()=>{d(_(l))}),f=P(n=>{o("keydown",n)},n=>{const{key:c,shiftKey:u,target:w,currentTarget:M}=n;if(c===b.tab&&u){a();return}if(w!==M)return;const k=Eo(n);if(k){n.preventDefault();let C=r().filter(O=>O.focusable).map(O=>O.ref);switch(k){case"last":{C.reverse();break}case"prev":case"next":{k==="prev"&&C.reverse();const O=C.indexOf(M);C=t.value?Co(C,O+1):C.slice(O+1);break}}Ae(()=>{le(C)})}}),E=T(()=>i.value===_(l));return U(Te,{rovingFocusGroupItemRef:p,tabIndex:T(()=>_(E)?0:-1),handleMousedown:g,handleFocus:m,handleKeydown:f}),{id:l,handleKeydown:f,handleFocus:m,handleMousedown:g}}});function ko(e,o,i,t,d,a){const r=h("el-roving-focus-collection-item");return S(),Y(r,{id:e.id,focusable:e.focusable,active:e.active},{default:v(()=>[N(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Lo=A(No,[["render",ko],["__file","roving-focus-item.vue"]]);const Po=X({trigger:oo.trigger,effect:{...ce.effect,default:"light"},type:{type:K(String)},placement:{type:K(String),default:"bottom"},popperOptions:{type:K(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:K([Number,String]),default:0},maxHeight:{type:K([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:K(Object)},teleported:ce.teleported}),Oe=X({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Ge}}),Bo=X({onKeydown:{type:K(Function)}}),Ko=[b.down,b.pageDown,b.home],Se=[b.up,b.pageUp,b.end],Do=[...Ko,...Se],{ElCollection:Mo,ElCollectionItem:Ao,COLLECTION_INJECTION_KEY:Go,COLLECTION_ITEM_INJECTION_KEY:zo}=$e("Dropdown"),Z=Symbol("elDropdown"),{ButtonGroup:Yo}=Ee,Ho=D({name:"ElDropdown",components:{ElButton:Ee,ElButtonGroup:Yo,ElScrollbar:no,ElDropdownCollection:Mo,ElTooltip:to,ElRovingFocusGroup:Ro,ElOnlyChild:lo,ElIcon:be,ArrowDown:ze},props:Po,emits:["visible-change","click","command"],setup(e,{emit:o}){const i=we(),t=oe("dropdown"),{t:d}=Ye(),a=y(),r=y(),l=y(null),p=y(null),g=y(null),m=y(null),f=y(!1),E=[b.enter,b.space,b.down],n=T(()=>({maxHeight:He(e.maxHeight)})),c=T(()=>[t.m(O.value)]),u=T(()=>io(e.trigger)),w=he().value,M=T(()=>e.id||w);_e([a,u],([s,L],[H])=>{var se,ie,ae;(se=H==null?void 0:H.$el)!=null&&se.removeEventListener&&H.$el.removeEventListener("pointerenter",B),(ie=s==null?void 0:s.$el)!=null&&ie.removeEventListener&&s.$el.removeEventListener("pointerenter",B),(ae=s==null?void 0:s.$el)!=null&&ae.addEventListener&&L.includes("hover")&&s.$el.addEventListener("pointerenter",B)},{immediate:!0}),ge(()=>{var s,L;(L=(s=a.value)==null?void 0:s.$el)!=null&&L.removeEventListener&&a.value.$el.removeEventListener("pointerenter",B)});function k(){G()}function G(){var s;(s=l.value)==null||s.onClose()}function C(){var s;(s=l.value)==null||s.onOpen()}const O=so();function F(...s){o("command",...s)}function B(){var s,L;(L=(s=a.value)==null?void 0:s.$el)==null||L.focus()}function z(){}function R(){const s=_(p);u.value.includes("hover")&&(s==null||s.focus()),m.value=null}function re(s){m.value=s}function q(s){f.value||(s.preventDefault(),s.stopImmediatePropagation())}function V(){o("visible-change",!0)}function ke(s){(s==null?void 0:s.type)==="keydown"&&p.value.focus()}function Le(){o("visible-change",!1)}return U(Z,{contentRef:p,role:T(()=>e.role),triggerId:M,isUsingKeyboard:f,onItemEnter:z,onItemLeave:R}),U("elDropdown",{instance:i,dropdownSize:O,handleClick:k,commandHandler:F,trigger:j(e,"trigger"),hideOnClick:j(e,"hideOnClick")}),{t:d,ns:t,scrollbar:g,wrapStyle:n,dropdownTriggerKls:c,dropdownSize:O,triggerId:M,triggerKeys:E,currentTabId:m,handleCurrentTabIdChange:re,handlerMainButtonClick:s=>{o("click",s)},handleEntryFocus:q,handleClose:G,handleOpen:C,handleBeforeShowTooltip:V,handleShowTooltip:ke,handleBeforeHideTooltip:Le,onFocusAfterTrapped:s=>{var L,H;s.preventDefault(),(H=(L=p.value)==null?void 0:L.focus)==null||H.call(L,{preventScroll:!0})},popperRef:l,contentRef:p,triggeringElementRef:a,referenceElementRef:r}}});function Uo(e,o,i,t,d,a){var r;const l=h("el-dropdown-collection"),p=h("el-roving-focus-group"),g=h("el-scrollbar"),m=h("el-only-child"),f=h("el-tooltip"),E=h("el-button"),n=h("arrow-down"),c=h("el-icon"),u=h("el-button-group");return S(),J("div",{class:x([e.ns.b(),e.ns.is("disabled",e.disabled)])},[I(f,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(r=e.referenceElementRef)==null?void 0:r.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Ue({content:v(()=>[I(g,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:v(()=>[I(p,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:v(()=>[I(l,null,{default:v(()=>[N(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:v(()=>[I(m,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:v(()=>[N(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(S(),Y(u,{key:0},{default:v(()=>[I(E,W({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:v(()=>[N(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),I(E,W({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:v(()=>[I(c,{class:x(e.ns.e("icon"))},{default:v(()=>[I(n)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Q("v-if",!0)],2)}var Jo=A(Ho,[["render",Uo],["__file","dropdown.vue"]]);const Vo=D({name:"DropdownItemImpl",components:{ElIcon:be},props:Oe,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const i=oe("dropdown"),{role:t}=$(Z,void 0),{collectionItemRef:d}=$(zo,void 0),{collectionItemRef:a}=$(wo,void 0),{rovingFocusGroupItemRef:r,tabIndex:l,handleFocus:p,handleKeydown:g,handleMousedown:m}=$(Te,void 0),f=Ce(d,a,r),E=T(()=>t.value==="menu"?"menuitem":t.value==="navigation"?"link":"button"),n=P(c=>{const{code:u}=c;if(u===b.enter||u===b.space)return c.preventDefault(),c.stopImmediatePropagation(),o("clickimpl",c),!0},g);return{ns:i,itemRef:f,dataset:{[ye]:""},role:E,tabIndex:l,handleFocus:p,handleKeydown:n,handleMousedown:m}}}),jo=["aria-disabled","tabindex","role"];function Wo(e,o,i,t,d,a){const r=h("el-icon");return S(),J(je,null,[e.divided?(S(),J("li",W({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):Q("v-if",!0),Je("li",W({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=l=>e.$emit("clickimpl",l)),onFocus:o[1]||(o[1]=(...l)=>e.handleFocus&&e.handleFocus(...l)),onKeydown:o[2]||(o[2]=ee((...l)=>e.handleKeydown&&e.handleKeydown(...l),["self"])),onMousedown:o[3]||(o[3]=(...l)=>e.handleMousedown&&e.handleMousedown(...l)),onPointermove:o[4]||(o[4]=l=>e.$emit("pointermove",l)),onPointerleave:o[5]||(o[5]=l=>e.$emit("pointerleave",l))}),[e.icon?(S(),Y(r,{key:0},{default:v(()=>[(S(),Y(Ve(e.icon)))]),_:1})):Q("v-if",!0),N(e.$slots,"default")],16,jo)],64)}var qo=A(Vo,[["render",Wo],["__file","dropdown-item-impl.vue"]]);const Fe=()=>{const e=$("elDropdown",{}),o=T(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},Qo=D({name:"ElDropdownItem",components:{ElDropdownCollectionItem:Ao,ElRovingFocusItem:Lo,ElDropdownItemImpl:qo},inheritAttrs:!1,props:Oe,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:i}){const{elDropdown:t}=Fe(),d=we(),a=y(null),r=T(()=>{var n,c;return(c=(n=_(a))==null?void 0:n.textContent)!=null?c:""}),{onItemEnter:l,onItemLeave:p}=$(Z,void 0),g=P(n=>(o("pointermove",n),n.defaultPrevented),pe(n=>{if(e.disabled){p(n);return}const c=n.currentTarget;c===document.activeElement||c.contains(document.activeElement)||(l(n),n.defaultPrevented||c==null||c.focus())})),m=P(n=>(o("pointerleave",n),n.defaultPrevented),pe(n=>{p(n)})),f=P(n=>{if(!e.disabled)return o("click",n),n.type!=="keydown"&&n.defaultPrevented},n=>{var c,u,w;if(e.disabled){n.stopImmediatePropagation();return}(c=t==null?void 0:t.hideOnClick)!=null&&c.value&&((u=t.handleClick)==null||u.call(t)),(w=t.commandHandler)==null||w.call(t,e.command,d,n)}),E=T(()=>({...e,...i}));return{handleClick:f,handlePointerMove:g,handlePointerLeave:m,textContent:r,propsAndAttrs:E}}});function Xo(e,o,i,t,d,a){var r;const l=h("el-dropdown-item-impl"),p=h("el-roving-focus-item"),g=h("el-dropdown-collection-item");return S(),Y(g,{disabled:e.disabled,"text-value":(r=e.textValue)!=null?r:e.textContent},{default:v(()=>[I(p,{focusable:!e.disabled},{default:v(()=>[I(l,W(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:v(()=>[N(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Re=A(Qo,[["render",Xo],["__file","dropdown-item.vue"]]);const Zo=D({name:"ElDropdownMenu",props:Bo,setup(e){const o=oe("dropdown"),{_elDropdownSize:i}=Fe(),t=i.value,{focusTrapRef:d,onKeydown:a}=$(ao,void 0),{contentRef:r,role:l,triggerId:p}=$(Z,void 0),{collectionRef:g,getItems:m}=$(Go,void 0),{rovingFocusGroupRef:f,rovingFocusGroupRootStyle:E,tabIndex:n,onBlur:c,onFocus:u,onMousedown:w}=$(te,void 0),{collectionRef:M}=$(ne,void 0),k=T(()=>[o.b("menu"),o.bm("menu",t==null?void 0:t.value)]),G=Ce(r,g,d,f,M),C=P(F=>{var B;(B=e.onKeydown)==null||B.call(e,F)},F=>{const{currentTarget:B,code:z,target:R}=F;if(B.contains(R),b.tab===z&&F.stopImmediatePropagation(),F.preventDefault(),R!==_(r)||!Do.includes(z))return;const q=m().filter(V=>!V.disabled).map(V=>V.ref);Se.includes(z)&&q.reverse(),le(q)});return{size:t,rovingFocusGroupRootStyle:E,tabIndex:n,dropdownKls:k,role:l,triggerId:p,dropdownListWrapperRef:G,handleKeydown:F=>{C(F),a(F)},onBlur:c,onFocus:u,onMousedown:w}}}),xo=["role","aria-labelledby"];function en(e,o,i,t,d,a){return S(),J("ul",{ref:e.dropdownListWrapperRef,class:x(e.dropdownKls),style:We(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...r)=>e.onBlur&&e.onBlur(...r)),onFocus:o[1]||(o[1]=(...r)=>e.onFocus&&e.onFocus(...r)),onKeydown:o[2]||(o[2]=ee((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:o[3]||(o[3]=ee((...r)=>e.onMousedown&&e.onMousedown(...r),["self"]))},[N(e.$slots,"default")],46,xo)}var Ne=A(Zo,[["render",en],["__file","dropdown-menu.vue"]]);const on=qe(Jo,{DropdownItem:Re,DropdownMenu:Ne}),ve=Ie(Re),nn=Ie(Ne);const tn={},ln={class:"header"};function rn(e,o){return S(),J("div",ln,[N(e.$slots,"default",{},void 0,!0)])}const gn=Qe(tn,[["render",rn],["__scopeId","data-v-58affb1c"]]);const sn={class:"header-right"},_n=D({__name:"HeaderRight",setup(e){const{t:o}=Xe(),i=Ze(),t=xe(),d=()=>{t.handleLogout(),i.push("login")},a=()=>{i.push("setting")};return(r,l)=>(S(),J("div",sn,[I(eo),_(t).isLogined?(S(),Y(_(on),{key:0},{dropdown:v(()=>[I(_(nn),null,{default:v(()=>[I(_(ve),{onClick:a},{default:v(()=>[de(ue(_(o)("setting")),1)]),_:1}),I(_(ve),{onClick:d},{default:v(()=>[de(ue(_(o)("login.logout")),1)]),_:1})]),_:1})]),default:v(()=>[I(ro,{class:"header-right-avatar ml16",style:{width:"40px",height:"40px"}})]),_:1})):Q("",!0)]))}});export{gn as H,_n as _};
//# sourceMappingURL=HeaderRight.vue_used_vue_type_stype_index_0_lang-7ecfb143.js.map
